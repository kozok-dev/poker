import{P as r,u as s}from"./index-f699a78a.js";let n;async function a(){n=await r.loadImages(["player1-1.jpg","player1-2.jpg","player1-3.jpg","player1-4.jpg","player1-5.jpg"])}function p(){return{image:n["player1-1.jpg"].src,description:"大勝すると本性が出る。"}}const g=s();class m{getImage(e){return e.action==r.ACTION.BANKRUPT?n["player1-4.jpg"].src:e.result==r.RESULT.WIN&&e.chip>=Math.floor(g.initChip*.8)&&e.betTotal>=5?n["player1-2.jpg"].src:e.action==r.ACTION.FOLD||e.result==r.RESULT.DRAW?n["player1-3.jpg"].src:e.result==r.RESULT.LOSE?n[e.betTotal<4?"player1-4.jpg":"player1-5.jpg"].src:n["player1-1.jpg"].src}getBet(e,u,o){if(o>=(e.bet==0?5:3)&&e.hand.type==r.HAND.NO_PAIR&&Math.random()<.95)return-1;let i;return e.bet==0?e.hand.type==r.HAND.NO_PAIR?i=0:e.hand.type==r.HAND.ONE_PAIR?i=1:e.hand.type==r.HAND.TWO_PAIR?i=2:i=3:(e.hand.type==r.HAND.NO_PAIR?i=1:e.hand.type==r.HAND.ONE_PAIR?i=2:e.hand.type==r.HAND.TWO_PAIR?i=3:i=4,Math.random()<.1&&(i+=Math.floor(Math.random()*5),i>5&&(i=5))),i}getChangeCards(e){let u=!1,o=null;for(let t of e)t.isHold||(o!=null&&t.number==o.number&&(t.isHold=!0,o.isHold=!0,u=!0),o=t);if(!u){let t=null;const f={};for(let l of e)f[l.suit]==null&&(f[l.suit]=0),f[l.suit]++,f[l.suit]>=4&&(t=l.suit);if(t!=null){for(let l of e)l.suit==t&&(l.isHold=!0);u=!0}}if(!u)for(let t=0;t<2;t++)e[t].number+1==e[t+1].number&&e[t].number+2==e[t+2].number&&e[t].number+3==e[t+3].number&&(e[t].isHold=!0,e[t+1].isHold=!0,e[t+2].isHold=!0,e[t+3].isHold=!0);const i=[];for(let t of e)t.isHold||i.push(t);return i}}const h={getProfile:p,loadImages:a,ComPlayer:m};export{h as default};
